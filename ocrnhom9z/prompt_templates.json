{
  "templates": {
    "default": {
      "name": "Chữ in",
      "description": "Điểm SV",
      "columns": [
        {
          "key": "stt",
          "name": "STT",
          "type": "number",
          "description": "Số thứ tự"
        },
        {
          "key": "lop",
          "name": "Lớp",
          "type": "text",
          "description": "Mã lớp (CNTT XX-XX)"
        },
        {
          "key": "msv",
          "name": "MSV",
          "type": "text",
          "description": "Mã số sinh viên 10 số"
        },
        {
          "key": "ho",
          "name": "Họ và đệm",
          "type": "text",
          "description": "Họ và tên đệm"
        },
        {
          "key": "ten",
          "name": "Tên",
          "type": "text",
          "description": "Tên riêng"
        },
        {
          "key": "cc",
          "name": "CC",
          "type": "score",
          "description": "Điểm chuyên cần"
        },
        {
          "key": "kt1",
          "name": "\"KT1\"",
          "type": "score",
          "description": "Điểm kiểm tra 1"
        }
      ],
      "validation_rules": {},
      "prompt_template": "Bạn là chuyên gia OCR. Trích xuất CHÍNH XÁC dữ liệu từ bảng điểm sinh viên.\n\n🎯 QUY TẮC QUAN TRỌNG:\n✅ Đọc từng ký tự cẩn thận - KHÔNG BỎ SÓT\n✅ Tên Việt phải có dấu (ă, â, ê, ô, ơ, ư, đ...)\n✅ MSV: 8-10 số (1571020090, 1771020148...)\n✅ Điểm: 0.0-10.0\n\n🔥 PHÂN CHIA TÊN CHÍNH XÁC:\n- \"Nguyễn Vũ Yến Nhi\" → ho=\"Nguyễn Vũ Yến\", ten=\"Nhi\"\n- \"Bùi Tiến Đạt\" → ho=\"Bùi Tiến\", ten=\"Đạt\"\n- \"Trần Thị Hương\" → ho=\"Trần Thị\", ten=\"Hương\"\n- \"Lê Minh\" → ho=\"Lê\", ten=\"Minh\"\n\n⚠️ TUYỆT ĐỐI:\n- KHÔNG cắt ngắn tên\n- ĐỌC HẾT tất cả từ trong tên\n- \"ho\" = tất cả từ TRỪ từ cuối\n- \"ten\" = CHỈ từ cuối cùng\n\nTRẢ VỀ JSON:\n{\n  \"students\": [\n    {\n      \"stt\": \"1\",\n      \"lop\": \"CNTT-17-01\",\n      \"msv\": \"1771020357\",\n      \"ho\": \"Nguyễn Vũ Yến\",\n      \"ten\": \"Nhi\",\n      \"cc\": \"10.0\",\n      \"kt1\": \"6.0\"\n    }\n  ]\n}\n\nCHỈ TRẢ VỀ JSON - KHÔNG GIẢI THÍCH"
    },
    "simple": {
      "name": "Bảng điểm đơn giản",
      "description": "Template đơn giản cho bảng điểm cơ bản",
      "columns": [
        {
          "key": "stt",
          "name": "STT",
          "type": "number",
          "description": "Số thứ tự"
        },
        {
          "key": "msv",
          "name": "MSV",
          "type": "text",
          "description": "Mã số sinh viên"
        },
        {
          "key": "hoten",
          "name": "Họ và tên",
          "type": "text",
          "description": "Họ và tên đầy đủ"
        },
        {
          "key": "diem",
          "name": "Điểm",
          "type": "score",
          "description": "Điểm số"
        }
      ],
      "validation_rules": {
        "msv_pattern": "^\\d{8,10}$",
        "score_range": [
          0.0,
          10.0
        ]
      },
      "prompt_template": "🤖 Phân tích bảng điểm đơn giản này với độ chính xác cao.\n\n🎯 CẤU TRÚC BẢNG:\n- STT: Số thứ tự\n- MSV: Mã số sinh viên (8-10 số)\n- Họ và tên: Tên đầy đủ có dấu tiếng Việt\n- Điểm: Điểm số (0.0-10.0)\n\n📋 TEMPLATE JSON:\n{\n  \"students\": [\n    {\n      \"stt\": \"1\",\n      \"msv\": \"1771020073\",\n      \"hoten\": \"Nguyễn Văn Anh\",\n      \"diem\": \"8.5\"\n    }\n  ]\n}\n\n🎯 YÊU CẦU:\n- Đọc chính xác từng ký tự\n- Tên phải có dấu tiếng Việt\n- CHỈ trả về JSON, không giải thích"
    },
    "detailed": {
      "name": "Bảng điểm chi tiết",
      "description": "Template chi tiết với nhiều loại điểm và thông tin sinh viên",
      "columns": [
        {
          "key": "stt",
          "name": "STT",
          "type": "number",
          "description": "Số thứ tự"
        },
        {
          "key": "lop",
          "name": "Lớp",
          "type": "text",
          "description": "Mã lớp"
        },
        {
          "key": "msv",
          "name": "MSV",
          "type": "text",
          "description": "Mã số sinh viên"
        },
        {
          "key": "hoten",
          "name": "Họ và tên",
          "type": "text",
          "description": "Họ và tên đầy đủ"
        },
        {
          "key": "gioitinh",
          "name": "Giới tính",
          "type": "text",
          "description": "Nam/Nữ"
        },
        {
          "key": "diemtx1",
          "name": "TX1",
          "type": "score",
          "description": "Điểm thường xuyên 1"
        },
        {
          "key": "diemtx2",
          "name": "TX2",
          "type": "score",
          "description": "Điểm thường xuyên 2"
        },
        {
          "key": "diemgk",
          "name": "GK",
          "type": "score",
          "description": "Điểm giữa kỳ"
        },
        {
          "key": "diemck",
          "name": "CK",
          "type": "score",
          "description": "Điểm cuối kỳ"
        },
        {
          "key": "diemtb",
          "name": "TB",
          "type": "score",
          "description": "Điểm trung bình"
        },
        {
          "key": "xeploai",
          "name": "Xếp loại",
          "type": "text",
          "description": "Xếp loại học tập"
        }
      ],
      "validation_rules": {
        "msv_pattern": "^(15|17|18|19|20|21|22|23|24)\\d{8}$",
        "class_pattern": "^[A-Z]{2,4} \\d{2}-\\d{2}$",
        "score_range": [
          0.0,
          10.0
        ],
        "gender_values": [
          "Nam",
          "Nữ"
        ],
        "grade_values": [
          "Xuất sắc",
          "Giỏi",
          "Khá",
          "Trung bình",
          "Yếu",
          "Kém"
        ]
      },
      "prompt_template": "🤖 Bạn là chuyên gia OCR Gemini với độ chính xác cao. Phân tích bảng điểm chi tiết này CHÍNH XÁC 100%.\n\n🎯 CẤU TRÚC BẢNG ĐIỂM CHI TIẾT:\n- STT: Số thứ tự (1, 2, 3...)\n- Lớp: Mã lớp (CNTT 17-02, KTPM 18-01...)\n- MSV: Mã số sinh viên 10 số (1771020073...)\n- Họ và tên: Tên đầy đủ có dấu tiếng Việt\n- Giới tính: Nam hoặc Nữ\n- TX1: Điểm thường xuyên 1 (0.0-10.0)\n- TX2: Điểm thường xuyên 2 (0.0-10.0)\n- GK: Điểm giữa kỳ (0.0-10.0)\n- CK: Điểm cuối kỳ (0.0-10.0)\n- TB: Điểm trung bình (0.0-10.0)\n- Xếp loại: Xuất sắc/Giỏi/Khá/Trung bình/Yếu/Kém\n\n🔍 QUY TẮC CHẶT CHẼ:\n1. ĐỌC TỪNG KÝ TỰ - KHÔNG ĐOÁN MẠO\n2. Tên Việt: BẮT BUỘC có dấu\n3. MSV: ĐÚNG 10 số\n4. Điểm: Số thập phân 0.0-10.0\n5. Giới tính: CHỈ \"Nam\" hoặc \"Nữ\"\n\n📋 TEMPLATE JSON:\n{\n  \"students\": [\n    {\n      \"stt\": \"1\",\n      \"lop\": \"CNTT 17-02\",\n      \"msv\": \"1771020073\",\n      \"hoten\": \"Nguyễn Văn Anh\",\n      \"gioitinh\": \"Nam\",\n      \"diemtx1\": \"8.0\",\n      \"diemtx2\": \"7.5\",\n      \"diemgk\": \"8.5\",\n      \"diemck\": \"9.0\",\n      \"diemtb\": \"8.3\",\n      \"xeploai\": \"Giỏi\"\n    }\n  ]\n}\n\n🎯 OUTPUT YÊU CẦU:\n- CHỈ trả về JSON thuần, KHÔNG giải thích\n- Nếu không đọc được: ghi \"unclear\"\n- Đảm bảo tên có đủ dấu tiếng Việt\n\nGEMINI - HÃY ĐỌC CHÍNH XÁC!"
    },
    "bảng_điểm_17_01": {
      "name": "Bảng Điểm 17-01",
      "description": "",
      "columns": [
        {
          "key": "stt",
          "name": "STT",
          "type": "number",
          "description": "Số thứ tự"
        },
        {
          "key": "msv",
          "name": "MSV",
          "type": "text",
          "description": "Mã số sinh viên"
        },
        {
          "key": "hoten",
          "name": "Họ và tên",
          "type": "text",
          "description": "Họ và tên đầy đủ"
        }
      ],
      "validation_rules": {
        "score_range": [
          0.0,
          10.0
        ]
      },
      "prompt_template": "Phân tích bảng điểm này với độ chính xác cao..."
    },
    "bảng_điểm_viết_tay": {
      "name": "Bảng điểm viết tay",
      "description": "Viết tay bảng điểm sv",
      "columns": [
        {
          "key": "stt",
          "name": "STT",
          "type": "number",
          "description": "Số thứ tự"
        },
        {
          "key": "msv",
          "name": "MSV",
          "type": "text",
          "description": "Mã số sinh viên"
        },
        {
          "key": "hodem",
          "name": "Họ và đệm",
          "type": "text",
          "description": "Họ và tên đầy đủ"
        },
        {
          "key": "ten",
          "name": "Tên",
          "type": "text",
          "description": ""
        },
        {
          "key": "cc",
          "name": "CC",
          "type": "score",
          "description": ""
        },
        {
          "key": "kt1",
          "name": "KT1",
          "type": "score",
          "description": ""
        }
      ],
      "validation_rules": {},
      "prompt_template": "Phân tích bảng điểm này với độ chính xác cao..."
    }
  },
  "current_template": "default"
}